global.newMaterialParts = [
/////////////// Tier 1 Matals /////////////////////////////

{
  'material': 'iron',
  'color': 0xd9d7d7,
  'itemParts': ['dense_plate', 'hammer', 'mechanical_component'],
  'blockParts': ['scaffolding', 'sheetmetal', 'cog_block'],
  'fluid': null,
  'durability': 128
},
{
  'material': 'gold',
  'color': 0xffe870,
  'itemParts': ['dense_plate', 'mechanical_component'],
  'blockParts': ['scaffolding', 'sheetmetal', 'cog_block'],
  'fluid': null
},
{
  'material': 'copper',
  'color': 0xf7ad63,
  'itemParts': ['dense_plate', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'durability': 128
},
{
  'material': 'lead',
  'color': 0x4f5a6e,
  'itemParts': ['dense_plate', 'rod', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'durability': 128
},
{
  'material': 'nickel',
  'color': 0xc2b17a,
  'itemParts': ['dense_plate', 'rod', 'wire', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'durability': 128,
  'ore': true
},
{
  'material': 'silver',
  'color': 0xc7d3d6,
  'itemParts': ['dense_plate', 'rod', 'wire', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'durability': 128
},
{
  'material': 'tin',
  'color': 0x9dbdc2,
  'itemParts': ['dense_plate', 'rod', 'wire', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'durability': 128
},

/////////////// Tier 2 Metals /////////////////////////////
{
  'material': 'cobalt',
  'color': 0x2452c7,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire', 'hammer', 'mechanical_component'],
  'blockParts': ['scaffolding', 'sheetmetal', 'cog_block'],
  'fluid': null,
  'durability': 256
},
{
  'material': 'aluminum',
  'color': 0xb6c2c2,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod'],
  'blockParts': [],
  'fluid': null
},
{
  'material': 'zinc',
  'color': 0x97c7b3,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'ore': true
},


/////////////// Tier 3 Metals /////////////////////////////

{
  'material': 'titanium',
  'color': 0x4668cf,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': 'thick',
  'durability': 1024,
  'ore': true
},
{
  'material': 'tungsten',
  'color': 0x282c33,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'durability': 1024
},
{
  'material': 'platinum',
  'color': 0x6be6ff,
  'itemParts': ['ingot', 'nugget', 'dust', 'plate', 'dense_plate', 'gear', 'rod', 'wire', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal', 'storage_block'],
  'fluid': null,
  'durability': 1024,
  'ore': true
},
{
  'material': 'uranium',
  'color': 0x8be8b0,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null
},
{
  'material': 'thorium',
  'color': 0x543923,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': 'thick'
},
{
  'material': 'magnesium',
  'color': 0x997996,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': 'thick'
},
{
  'material': 'boron',
  'color': 0x20293b,
  'itemParts': ['ingot', 'nugget', 'dust', 'plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal', 'storage_block'],
  'fluid': 'thick'
},

/////////////// Tier 4 Metals /////////////////////////////


{
  'material': 'chromium',
  'color': 0x3e224d,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': 'thick',
  'ore': true
},
{
  'material': 'palladium',
  'color': 0x522d22,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': 'thick',
  'ore': true
},
{
  'material': 'iridium',
  'color': 0x1942bf,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': 'thick',
  'ore': true
},
{
  'material': 'vanadium',
  'color': 0x464e66,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null
},
{
  'material': 'neodymium',
  'color': 0x634d59,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': [],
  'fluid': 'thick'
},
{
  'material': 'desh',
  'color': 0xffa763,
  'itemParts': ['dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null
},
{
  'material': 'neptunium',
  'color': 0x5a5863,
  'itemParts': ['ingot', 'nugget', 'dust'],
  'blockParts': ['storage_block'],
  'fluid': 'thick'
},
{
  'material': 'plutonium',
  'color': 0xbdabff,
  'itemParts': ['ingot', 'nugget', 'dust'],
  'blockParts': ['storage_block'],
  'fluid': 'thick'
},
{
  'material': 'americium',
  'color': 0x4a3a2f,
  'itemParts': ['ingot', 'nugget', 'dust'],
  'blockParts': ['storage_block'],
  'fluid': 'thick'
},
{
  'material': 'curium',
  'color': 0x8a3e50,
  'itemParts': ['ingot', 'nugget', 'dust'],
  'blockParts': ['storage_block'],
  'fluid': 'thick'
},
{
  'material': 'berkelium',
  'color': 0x755444,
  'itemParts': ['ingot', 'nugget', 'dust'],
  'blockParts': ['storage_block'],
  'fluid': 'thick'
},
{
  'material': 'californium',
  'color': 0xc93328,
  'itemParts': ['ingot', 'nugget', 'dust'],
  'blockParts': ['storage_block'],
  'fluid': 'thick'
},
{
  'material': 'einsteinium',
  'color': 0x4a6da8,
  'itemParts': ['ingot', 'nugget', 'dust'],
  'blockParts': ['storage_block'],
  'fluid': 'thick'
},
/////////////// Tier 1 Alloys /////////////////////////////
{
  'material': 'bronze',
  'color': 0xe0ac72,
  'itemParts': ['dense_plate','rod', 'wire', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'durability': 256
},
{
  'material': 'constantan',
  'color': 0xdbb488,
  'itemParts': ['dense_plate','rod', 'wire', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'durability': 256
},
{
  'material': 'electrum',
  'color': 0xe6db95,
  'itemParts': ['dense_plate', 'rod', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'durability': 256
},
{
  'material': 'invar',
  'color': 0xa4bab5,
  'itemParts': ['dense_plate','rod', 'wire', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'durability': 256
},
{
  'material': 'brass',
  'color': 0xffc96b,
  'itemParts': ['dense_plate', 'gear','wire', 'dust', 'hammer'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null,
  'durability': 256
},


/////////////// Tier 2 Alloys /////////////////////////////
{
  'material': 'steel',
  'color': 0xb5b3b3,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'hammer'],
  'blockParts': [],
  'fluid': null,
  'durability': 512
},
{
  'material': 'fluix_steel',
  'color': 0x792be0,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal', 'storage_block'],
  'fluid': 'thick'
},
{
  'material': 'lumium',
  'color': 0xffd894,
  'itemParts': ['dense_plate', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null
},
{
  'material': 'manasteel',
  'color': 0x69a7ff,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': 'thick'
},
{
  'material': 'arcane_gold',
  'color': 0xe8a02a,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': 'thick'
},
{
  'material': 'vinteum',
  'color': 0x9be3fa,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal', 'storage_block'],
  'fluid': 'thick'
},


/////////////// Tier 3 Alloys /////////////////////////////
{
  'material': 'enderium',
  'color': 0x5fc4d4,
  'itemParts': ['dense_plate', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null
},
{
  'material': 'signalum',
  'color': 0xff6e4a,
  'itemParts': ['dense_plate','rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null
},
{
  'material': 'netherite',
  'color': 0x524c49,
  'itemParts': ['dense_plate', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': null
},
{
  'material': 'terrasteel',
  'color': 0x63e645,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': 'thick'
},
{
  'material': 'elementium',
  'color': 0xf569b6,
  'itemParts': ['plate', 'dense_plate', 'gear', 'rod', 'wire'],
  'blockParts': ['scaffolding', 'sheetmetal'],
  'fluid': 'thick'
},

/////////////// Ore /////////////////////////////
{
  'material': 'rutile',
  'color': 0xff4d4d,
  'itemParts': ['dust'],
  'blockParts': [],
  'fluid': null,
  'ore': true
},
{
  'material': 'sphalerite',
  'color': 0x7b7db0,
  'itemParts': ['dust'],
  'blockParts': [],
  'fluid': null,
  'ore': true
},
{
  'material': 'sulfur',
  'color': 0xe1eb34,
  'itemParts': [],
  'blockParts': [],
  'fluid': null,
  'ore': true
},
{
  'material': 'vincyte',
  'color': 0x0046d1,
  'itemParts': ['dust'],
  'blockParts': [],
  'fluid': null,
  'ore': true
},

/////////////// Other /////////////////////////////
{
  'material': 'slag',
  'color': 0x947b6c,
  'itemParts': ['dust'],
  'blockParts': [],
  'fluid': 'thick'
},

/////////////// Gems /////////////////////////////
{
  'material': 'ruby',
  'gem': true,
  'color': 0xff4f55,
  'itemParts': ['ruby', 'dust'],
  'blockParts': ['storage_block'],
  'ore': true
},
{
  'material': 'sapphire',
  'gem': true,
  'color': 0x7377ff,
  'itemParts': ['sapphire', 'dust'],
  'blockParts': ['storage_block'],
  'ore': true
}
]


onEvent('item.registry', event => {
  global.newMaterialParts.forEach((item) => {
    item.itemParts.forEach((part) => {
    if (part == 'hammer') {
      event.create(`${item.material}_${part}`, 'pickaxe').color(0, item.color).parentModel(`kubejs:item/${part}`).texture(`kubejs:item/${part}`).unstackable().tier('iron').maxDamage(item.durability).tooltip(`${item.durability} Base Durability`)
    } else {
      if (item.gem) {
        if (part == ('ruby'||'sapphire')) {
        event.create(`${part}`).color(0, item.color).texture(`kubejs:item/gem/${part}`)
        } else {
          event.create(`${item.material}_${part}`).color(0, item.color).texture(`kubejs:item/gem/${part}`)
        }
      } else {
        if (part == 'custom_ingot') {
          event.create(`${item.material}_ingot`)
        } else {
        event.create(`${item.material}_${part}`).color(0, item.color).texture(`kubejs:item/${part}`)
        }
      }
    }
    })
    if (item.ore && !item.gem) {
      event.create(`raw_${item.material}`).color(0, item.color).texture(`kubejs:item/raw_ore`)
      event.create(`${item.material}_chunk`).color(0, item.color).texture(`kubejs:item/ore_chunk`).parentModel(`kubejs:item/ore_chunk`)
      event.create(`${item.material}_grit`).color(0, item.color).texture(`kubejs:item/ore_dust`).parentModel(`kubejs:item/ore_dust`)
      event.create(`${item.material}_clump`).color(0, item.color).texture(`kubejs:item/ore_clump`).parentModel(`kubejs:item/ore_clump`)
      }
  })
});

onEvent('block.registry', event => {
  global.newMaterialParts.forEach((item) => {
    item.blockParts.forEach((part) => {
      if (part == 'scaffolding') {
        event.create(`${item.material}_${part}`).color(0, item.color).material('metal').hardness(3).resistance(3).tagBlock('minecraft:mineable/pickaxe').tagBlock('minecraft:needs_iron_tool').renderType('cutout').defaultCutout().model(`kubejs:block/${part}`)
      } else {
        if (item.gem) {
          event.create(`${item.material}_${part}`).color(0, item.color).material('metal').hardness(3).resistance(3).tagBlock('minecraft:mineable/pickaxe').tagBlock('minecraft:needs_iron_tool').model(`kubejs:block/gem/${part}`)
        } else {
          event.create(`${item.material}_${part}`).color(0, item.color).material('metal').hardness(3).resistance(3).tagBlock('minecraft:mineable/pickaxe').tagBlock('minecraft:needs_iron_tool').model(`kubejs:block/${part}`)
        }
      }
    })
    if (item.ore) {
      if (item.gem) {
        event.create(`${item.material}_ore`).color(0, item.color).material('stone').hardness(3).resistance(3).tagBlock('minecraft:mineable/pickaxe').tagBlock('minecraft:needs_iron_tool').renderType('cutout').defaultCutout().model(`kubejs:block/gem/stone_${item.material}_ore`)
        event.create(`deepslate_${item.material}_ore`).color(0, item.color).material('stone').hardness(6).resistance(6).tagBlock('minecraft:mineable/pickaxe').tagBlock('minecraft:needs_iron_tool').renderType('cutout').defaultCutout().model(`kubejs:block/gem/deepslate_${item.material}_ore`)
        event.create(`endstone_${item.material}_ore`).color(0, item.color).material('stone').hardness(4).resistance(4).tagBlock('minecraft:mineable/pickaxe').tagBlock('minecraft:needs_iron_tool').renderType('cutout').defaultCutout().model(`kubejs:block/gem/endstone_${item.material}_ore`)
        event.create(`netherrack_${item.material}_ore`).color(0, item.color).material('stone').hardness(3).resistance(3).tagBlock('minecraft:mineable/pickaxe').tagBlock('minecraft:needs_iron_tool').renderType('cutout').defaultCutout().model(`kubejs:block/gem/netherrack_${item.material}_ore`)
      } else {
        event.create(`${item.material}_ore`).color(0, item.color).material('stone').hardness(3).resistance(3).tagBlock('minecraft:mineable/pickaxe').tagBlock('minecraft:needs_iron_tool').renderType('cutout').defaultCutout().model("kubejs:block/stone_ore")
        event.create(`deepslate_${item.material}_ore`).color(0, item.color).material('stone').hardness(6).resistance(6).tagBlock('minecraft:mineable/pickaxe').tagBlock('minecraft:needs_iron_tool').renderType('cutout').defaultCutout().model("kubejs:block/deepslate_ore")
        event.create(`endstone_${item.material}_ore`).color(0, item.color).material('stone').hardness(4).resistance(4).tagBlock('minecraft:mineable/pickaxe').tagBlock('minecraft:needs_iron_tool').renderType('cutout').defaultCutout().model("kubejs:block/endstone_ore")
        event.create(`netherrack_${item.material}_ore`).color(0, item.color).material('stone').hardness(3).resistance(3).tagBlock('minecraft:mineable/pickaxe').tagBlock('minecraft:needs_iron_tool').renderType('cutout').defaultCutout().model("kubejs:block/netherrack_ore")
      }
    }
  })
});
  
onEvent('block.loot_tables', event => {
  global.newMaterialParts.forEach((item) => {
      if (item.ore) {
        if (item.gem) {
          event.addSimpleBlock(`kubejs:${item.material}_ore`, `kubejs:${item.material}`)
          event.addSimpleBlock(`kubejs:deepslate_${item.material}_ore`, `kubejs:${item.material}`)
          event.addSimpleBlock(`kubejs:endstone_${item.material}_ore`, `2x kubejs:${item.material}`)
          event.addSimpleBlock(`kubejs:netherrack_${item.material}_ore`, `2x kubejs:${item.material}`)
        } else {
          event.addSimpleBlock(`kubejs:${item.material}_ore`, `kubejs:raw_${item.material}`)
          event.addSimpleBlock(`kubejs:deepslate_${item.material}_ore`, `kubejs:raw_${item.material}`)
          event.addSimpleBlock(`kubejs:endstone_${item.material}_ore`, `2x kubejs:raw_${item.material}`)
          event.addSimpleBlock(`kubejs:netherrack_${item.material}_ore`, `2x kubejs:raw_${item.material}`)
        }
      }
  })
});

onEvent('tags.items', event => {
  global.newMaterialParts.forEach((item) => {
    item.itemParts.forEach((part) => {
    if (part == 'custom_ingot') {
      event.add(`forge:ingots`, `kubejs:${item.material}_ingot`)
      event.add(`forge:ingots/${item.material}`, `kubejs:${item.material}_ingot`)

    } else if (part == ('ruby'||'sapphire')) {
      event.add(`forge:gems`, `kubejs:${item.material}`)
      event.add(`forge:gems/${item.material}`, `kubejs:${item.material}`)

    } else {
      event.add(`forge:${part}s`, `kubejs:${item.material}_${part}`)
      event.add(`forge:${part}s/${item.material}`, `kubejs:${item.material}_${part}`)}
    })

    item.blockParts.forEach((part) => {if (part == 'scaffolding') {
        event.add(`immersiveengineering:scaffoldings`, `kubejs:${item.material}_scaffolding`)
        event.add(`immersiveengineering:scaffoldings/${item.material}`, `kubejs:${item.material}_scaffolding`)
      } else {
      event.add(`forge:${part}s`, `kubejs:${item.material}_${part}`)
      event.add(`forge:${part}s/${item.material}`, `kubejs:${item.material}_${part}`)
      }
    })
    
    if (item.ore) {
      event.add(`forge:ores`, `kubejs:${item.material}_ore`)
      event.add(`forge:ores/${item.material}`, `kubejs:${item.material}_ore`)
      event.add(`forge:ores`, `kubejs:deepslate_${item.material}_ore`)
      event.add(`forge:ores/${item.material}`, `kubejs:deepslate_${item.material}_ore`)
      event.add(`forge:ores`, `kubejs:endstone_${item.material}_ore`)
      event.add(`forge:ores/${item.material}`, `kubejs:endstone_${item.material}_ore`)
      event.add(`forge:ores`, `kubejs:netherrack_${item.material}_ore`)
      event.add(`forge:ores/${item.material}`, `kubejs:netherrack_${item.material}_ore`)
        if (!item.gem) {
          event.add(`forge:raw_materials`, `kubejs:raw_${item.material}`)
          event.add(`forge:raw_materials/${item.material}`, `kubejs:raw_${item.material}`)
        }
    }

  })
});

onEvent('fluid.registry', event => {
  global.newMaterialParts.forEach((item) => {
    if (item.fluid == 'thick') {
      event.create(`molten_${item.material}`).thickTexture(item.color).bucketColor(item.color)
    }
    if (item.fluid == 'thin') {
      event.create(`molten_${item.material}`).thinTexture(item.color).bucketColor(item.color)
    }
  })
});

onEvent('fluid.tags', event => {
  global.newMaterialParts.forEach((item) => {
    if (item.fluid != null) {
      event.add(`forge:molten_${item.material}`, [`kubejs:molten_${item.material}`, `kubejs:flowing_molten_${item.material}`])
    }
  })
});
